<html>

<head>
  <link rel="shortcut icon" href="favicon.ico">
  <title>GoBan - vios.ai</title>
  <script src="goban.js"></script>
  <style>
    * {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }
  </style>
</head>

<body onresize="resizeHandler()">

  <table align="center">
    <tr>
      <td id="goban-container" style="width: 100%" colspan="3">
        <canvas id="goban"></canvas>
      </td>
      <tr>
        <td>
          Coords: <input type="checkbox" onchange="goban.withCoordinates=this.checked;goban.Redraw();" checked />,
          Move#: <input type="checkbox" onchange="goban.withMoveNumbers=this.checked;goban.Redraw();" checked />,
          Group#: <input type="checkbox" onchange="goban.withGroupNumbers=this.checked;goban.Redraw();" />,
          Sound: <input type="checkbox" onchange="goban.withSounds=this.checked;" checked />
        </td>
        <td align="center">
          &nbsp;Size:
          <input type="radio" name="size" value="9" onchange="goban.Resize(9);resizeHandler();" checked> 9x9
          <input type="radio" name="size" value="13" onchange="goban.Resize(13);resizeHandler();"> 13x13
          <input type="radio" name="size" value="19" onchange="goban.Resize(19);resizeHandler();"> 19x19
          <!--
          <select onchange="goban.n=parseInt(value);resizeHandler();">
            <option value="19">19x19</option>
            <option value="13">13x13</option>
            <option value="9" selected>9x9</option>
          </select>
        -->
        </td>
        <td align="right">
          <button type="submit" onmouseover="goban.withLastMoveHighlight=true; goban.Redraw();" onmouseout="goban.withLastMoveHighlight=false; goban.Redraw();" onclick="goban.Undo();">Undo last move</button>
        </td>
      </tr>
  </table>
  <script>
    var goban = new GoBan(9)

    function resizeHandler() {
      var size = goban.n
      console.log("Size is " + size)
      var min = window.innerWidth
      if (window.innerHeight < min) {
        min = window.innerHeight
      }
      console.log("Min Height/Width is " + min)
      var scale = 2 * Math.floor(min * .95 / (size + 2) / 2)
      console.log("New scale is " + scale)
      goban.Draw(document.getElementById("goban"), scale);
      //goban.drawStone(1,1, "orange", 399)
    }
    resizeHandler()
/* infinite loop bug repro (fixed now) */
/*
    goban.RecordMove(6,6,1,);
    goban.RecordMove(6,2,2,);
    goban.RecordMove(2,6,1,);
    goban.RecordMove(5,3,2,);
    goban.RecordMove(5,5,1,);
    goban.RecordMove(7,3,2,);
    goban.RecordMove(4,5,1,);
    goban.RecordMove(5,4,2,);
    goban.RecordMove(3,6,1,);
    goban.RecordMove(7,4,2,);
    goban.RecordMove(4,7,1,);
    goban.RecordMove(6,3,2,);
    goban.RecordMove(5,6,1,);
    goban.RecordMove(3,7,2,);
*/
  </script>
</body>

</html>
