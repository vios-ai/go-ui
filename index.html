<html>

<head>
  <link rel="shortcut icon" href="favicon.ico">
  <title>GoBan - vios.ai</title>
  <script src="goban.js"></script>
  <style>
    * {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }
  </style>
</head>

<body onresize="resizeHandler()">

  <table align="center">
    <tr>
      <td id="goban-container" style="width: 100%" colspan="3">
        <canvas id="goban"></canvas>
      </td>
      <tr>
        <td>
          Coordinates: <input type="checkbox" onchange="goban.withCoordinates=this.checked;goban.Redraw();" checked />
          Sounds: <input type="checkbox" onchange="goban.withSounds=this.checked;" checked />
          Last move highlight: <input type="checkbox" onchange="goban.withLastMoveHighlight=this.checked;goban.Redraw();" checked />
        </td>
        <td align="center">
          Size
          <select onchange="goban.n=parseInt(value);resizeHandler();">
            <option value="19">19x19</option>
            <option value="13">13x13</option>
            <option value="9">9x9</option>
          </select>
        </td>
        <td align="right">
          <button type="submit" onclick="goban.Undo();">Undo last move</button>
        </td>
      </tr>
  </table>
  <script>
    var goban = new GoBan(19)

    function resizeHandler() {
      var size = goban.n
      console.log("Size is " + size)
      var min = window.innerWidth
      if (window.innerHeight < min) {
        min = window.innerHeight
      }
      console.log("Min Height/Width is " + min)
      var scale = 2 * Math.floor(min * .95 / (size + 2) / 2)
      console.log("New scale is " + scale)
      goban.Draw(document.getElementById("goban"), scale);
    }
    resizeHandler()
  </script>
</body>

</html>
